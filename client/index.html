<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
    <link rel="stylesheet" href="css/style.css" />
    <title>Mini Wordpress</title>
  </head>
  <body>
    <div id="app">

      <!-- NAVBAR -->
      <nav>
        <h1 class="brand"></h1>
        <ul>
          <li>
            <a
              style=" text-decoration: none;color: white"
              href="#"
              v-if="isLogin"
              @click.prevent="fetchArticles"
              >Blogs</a
            >
          </li>
          <li>
            <a style=" text-decoration: none;color: white" href="#">About</a>
          </li>
          <li>
            <a
              style=" text-decoration: none;color: white"
              href="#"
              v-on:click.prevent="showRegister"
              >Register</a
            >
          </li>
          <li>
            <a
              style=" text-decoration: none;color: white"
              href="#"
              v-if="!isLogin"
              v-on:click.prevent="showLogin"
              >Sign in</a
            >
            <a
              style=" text-decoration: none;color: white"
              href="#"
              v-else="isLogin"
              v-on:click.prevent="logout"
              >Sign Out</a
            >
          </li>
        </ul>
      </nav>

      <section id="home" v-if="!isLogin">
        <!--REGISTER FORM-->
        <register
          v-if="!isLogin && authenticate == 'register'"
          v-on:success-register="successRegister"
        ></register>

        <!-- LOGIN FORM-->
        <login
          v-if="!isLogin && authenticate == 'login'"
          v-on:success-login="successLogin"
        ></login>
      </section>

      <section id="main-content" v-if="isLogin" >
          <div class="row py-5" style="height:100vh">
            <div class="col-2 border-right">
                <div class="media ">
                  <img id="profPic" class="align-self-start mx-auto" v-bind:src="loginUser.profPic" alt="Generic placeholder image">
                </div>
                    <h4 class="text-center py-4">{{loginUser.username}}</h4>
                <div class="col-12 px-5">
                  <div class="list-group" id="list-tab" role="tablist">
                    <a class="list-group-item list-group-item-action border-0 pl-2" id="list-home-list" data-toggle="list" href="#list-home" role="tab" aria-controls="home"><i class="fas fa-search"></i> Search</a>
                    <a @click.prevent="showMine" class="list-group-item list-group-item-action border-0 pl-2" id="list-profile-list" data-toggle="list" href="#list-profile" role="tab" aria-controls="profile"><i class="fas fa-book-open"></i> My Blogs</a>
                    <a @click.prevent="showLikes" class="list-group-item list-group-item-action border-0 pl-2" id="list-messages-list" data-toggle="list" href="#list-messages" role="tab" aria-controls="messages"><i class="fas fa-star"></i> My Likes</a>
                    <a class="list-group-item list-group-item-action border-0 pl-2" id="list-settings-list" data-toggle="list" href="#list-settings" role="tab" aria-controls="settings"><i class="fas fa-tags"></i> Tags</a>
                    <button @click.prevent="showEditor" type="button" class="btn mt-3" style="background-color: #016087; width: 120px; font-size: 10px"><i class="fas fa-feather-alt px-2"></i> Write</button>
                  </div>
                </div>
            </div>
            <div class="col-9">
               <div class="row">
                 <div class="col-12">
                   <div class="container px-4 py-4">
                     <div class="form-group has-search">
                         <span class="fa fa-search form-control-feedback"></span>
                         <input type="text" class="form-control" placeholder="Search">
                     </div>
                   </div>
                 </div>
               </div>
               <!--All Articles-->
               <articles v-bind:articles="articles" v-if="page == 'all'"></articles>
               <article-details  v-if="page == 'details'" v-bind:details="details"></article-details>
               <user-articles v-if="page == 'private'" v-bind:articles="articles"></user-articles>

               <!-- Editor -->
               <div class="container" v-if="page == 'editor'">
                 <h1 v-if="!editMode">Title : {{newArticle.title}}</h1>
                 <h1 v-if="editMode">Title : {{editArticle.title}}</h1>
                   <div class="form-group" v-if="!editMode">
                       <input
                         type="text"
                         class="form-control"
                         id="exampleInputTitle"
                         placeholder="Input Title"
                         v-model="newArticle.title"
                       />
                   </div>
                   <div class="form-group" v-if="editMode">
                       <input
                         type="text"
                         class="form-control"
                         id="exampleInputTitle"
                         placeholder="Input Title"
                         v-model="editArticle.title"
                       />
                   </div>
                   <h1>Description : </h1>
                   <summer-note v-if="!editMode" ref="editor"></summer-note>
                   <summer-note v-if="editMode" ref="editor" v-bind:edit="editArticle" ></summer-note>
                   <div class="custom-file mt-3">
                      <input
                        type="file"
                        class="custom-file-input"
                        id="inputGroupFile01"
                        v-on:change="getImage"
                      />
                      <label class="custom-file-label" for="inputGroupFile01">{{newArticle.getImage}}</label>
                      <span  class="badge badge-pill badge-light" v-for="(tag, index) in currentTags" :key="index" style="font-size: 8px" @click.prevent="deleteTag(tag)" >{{tag}} <i class="fas fa-times"></i></span>
                  </div>
                  <div class="form-group my-3" v-if="!editMode">
                      <input
                        type="text"
                        class="form-control"
                        id="exampleInputTag"
                        placeholder="Input Tag"
                        v-model="newTag"
                      />
                      <button @click.prevent="createTag" type="button" class="btn mt-3" style="background-color: #016087; width: 120px; font-size: 10px">Add Tag</button>
                  </div>
                   <div class="col-12 px-0 d-flex justify-content-center">
                       <button @click.prevent="getValue" type="button" class="btn mt-3" style="background-color: #016087; width: 120px; font-size: 10px">Post</button>
                       <button @click.prevent="showAll" type="button" class="btn mt-3" style="background-color: #016087; width: 120px; font-size: 10px">Cancel</button>
                   </div>
               </div>        
            </div>
          </div>
       
      </section>
    </div>
    <!-- built files will be auto injected -->

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="components/register.js"></script>
    <script src="components/login.js"></script>
    <script src="components/articles.js"></script>
    <script src="components/details.js"></script>
    <script src="components/user-article.js"></script>
    <script src="components/summernote.js"></script>
    <script src="js/script.js"></script>
    <script>
        $('#summernote').summernote({
          tabsize: 2,
          height: 200
        });
    </script>
  </body>
</html>
